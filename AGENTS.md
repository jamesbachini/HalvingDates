# Repository Guidelines

## Project Structure & Module Organization
- Entry points: `index.php` (landing) plus `crypto.php` and `opinion.php`, each pulling shared partials from `components/` (`head.php`, `topbar.php`, `footer.php`).
- Assets: `css/style.css` for layout/typography and `js/script.js` for navigation, JSON loading, and countdown timers.
- Data: `data/halving.json` feeds the UI; dated backups `data/halving-YYMMDD.json` are generated alongside icons/charts under `img/`.
- Data generator: `halving.js` fetches chain heights via public APIs (axios + cheerio) and writes the JSON files.

## Build, Test, and Development Commands
- Install Node deps for the generator (axios, cheerio): `npm install axios cheerio` in repo root when `node_modules` is missing.
- Refresh halving data: `node halving.js` (creates/overwrites `data/halving.json` and a dated backup).
- Serve locally: `php -S localhost:8000` in repo root to exercise PHP includes and client fetches; then open `http://localhost:8000`.
- Quick sanity: open `data/halving.json` to confirm valid JSON and spot obvious block-height anomalies before committing.

## Coding Style & Naming Conventions
- PHP/JS/CSS files currently use tab indentation and lower-case file names; follow the existing pattern when extending views or scripts.
- Keep token keys lowercase (e.g., `btc`, `ltc`) to match icon filenames and data lookups. Use descriptive function names aligned with coin symbols in `halving.js`.
- Avoid introducing framework-specific syntax; the frontend is plain PHP + vanilla JS + CSS.

## Testing Guidelines
- No automated test suite; rely on manual checks: run `node halving.js`, serve locally, and verify table rows, timers, and “Next Coin To Be Halved”/year badges render without console errors.
- When adding coins, confirm icons exist under `img/icons` and JSON shape matches existing entries before reload.

## Commit & Pull Request Guidelines
- Use concise, imperative commit messages (e.g., “Add ravencoin halving source”).
- PRs should describe intent, list affected paths (data vs UI), and include brief before/after notes or screenshots for visible changes.
- If data files change, mention whether they were regenerated by `halving.js` and which APIs were touched.

## Security & Configuration Tips
- API calls in `halving.js` hit public endpoints; avoid embedding private keys and respect rate limits.
- The HTTPS agent currently skips certificate validation for some sources; adjust only if upstream APIs support stricter TLS, and do not weaken headers in `components/head.php`.
